import{a7 as P,r as e,a8 as R,a9 as N,aa as v,_ as h,ab as j,ac as q,j as x,a as w}from"./index-kz_KmYqn.js";import{$ as B}from"./index-DuiSBcde.js";const g="Switch",[I,W]=P(g),[M,T]=I(g),H=e.forwardRef((t,o)=>{const{__scopeSwitch:c,name:a,checked:r,defaultChecked:i,required:d,disabled:n,value:b="on",onCheckedChange:u,...k}=t,[s,p]=e.useState(null),E=R(o,l=>p(l)),$=e.useRef(!1),m=s?!!s.closest("form"):!0,[f=!1,y]=N({prop:r,defaultProp:i,onChange:u});return e.createElement(M,{scope:c,checked:f,disabled:n},e.createElement(v.button,h({type:"button",role:"switch","aria-checked":f,"aria-required":d,"data-state":C(f),"data-disabled":n?"":void 0,disabled:n,value:b},k,{ref:E,onClick:j(t.onClick,l=>{y(_=>!_),m&&($.current=l.isPropagationStopped(),$.current||l.stopPropagation())})})),m&&e.createElement(z,{control:s,bubbles:!$.current,name:a,value:b,checked:f,required:d,disabled:n,style:{transform:"translateX(-100%)"}}))}),A="SwitchThumb",O=e.forwardRef((t,o)=>{const{__scopeSwitch:c,...a}=t,r=T(A,c);return e.createElement(v.span,h({"data-state":C(r.checked),"data-disabled":r.disabled?"":void 0},a,{ref:o}))}),z=t=>{const{control:o,checked:c,bubbles:a=!0,...r}=t,i=e.useRef(null),d=B(c),n=q(o);return e.useEffect(()=>{const b=i.current,u=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(u,"checked").set;if(d!==c&&s){const p=new Event("click",{bubbles:a});s.call(b,c),b.dispatchEvent(p)}},[d,c,a]),e.createElement("input",h({type:"checkbox","aria-hidden":!0,defaultChecked:c},r,{tabIndex:-1,ref:i,style:{...t.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function C(t){return t?"checked":"unchecked"}const S=H,D=O,F=e.forwardRef(({className:t,...o},c)=>x.jsx(S,{className:w("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...o,ref:c,children:x.jsx(D,{className:w("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));F.displayName=S.displayName;export{F as S};
