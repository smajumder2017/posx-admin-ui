import{P as x,r as q,aa as Hr,_ as Kr,j as se,a as _e,aM as Gr,aS as zr}from"./index-kz_KmYqn.js";var be=e=>e.type==="checkbox",oe=e=>e instanceof Date,P=e=>e==null;const vr=e=>typeof e=="object";var U=e=>!P(e)&&!Array.isArray(e)&&vr(e)&&!oe(e),hr=e=>U(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Jr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_r=(e,t)=>e.has(Jr(t)),Qr=e=>{const t=e.constructor&&e.constructor.prototype;return U(t)&&t.hasOwnProperty("isPrototypeOf")},Je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Je&&(e instanceof Blob||e instanceof FileList))&&(r||U(e)))if(t=r?[]:{},!r&&!Qr(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=N(e[s]));else return e;return t}var fe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,t,r)=>{if(!t||!U(e))return r;const s=fe(t.split(/[,[\].]+?/)).reduce((n,a)=>P(n)?n:n[a],e);return C(s)||s===e?C(e[t])?r:e[t]:s},Y=e=>typeof e=="boolean";const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},br=x.createContext(null),Fe=()=>x.useContext(br),Xr=e=>{const{children:t,...r}=e;return x.createElement(br.Provider,{value:r},t)};var Fr=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const o=a;return t._proxyFormState[o]!==z.all&&(t._proxyFormState[o]=!s||z.all),r&&(r[o]=!0),e[o]}});return n},B=e=>U(e)&&!Object.keys(e).length,xr=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return B(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||z.all))},W=e=>Array.isArray(e)?e:[e],Ar=(e,t,r)=>!e||!t||e===t||W(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function ke(e){const t=x.useRef(e);t.current=e,x.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Yr(e){const t=Fe(),{control:r=t.control,disabled:s,name:n,exact:a}=e||{},[o,y]=x.useState(r._formState),_=x.useRef(!0),w=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=x.useRef(n);return F.current=n,ke({disabled:s,next:v=>_.current&&Ar(F.current,v.name,a)&&xr(v,w.current,r._updateFormState)&&y({...r._formState,...v}),subject:r._subjects.state}),x.useEffect(()=>(_.current=!0,w.current.isValid&&r._updateValid(!0),()=>{_.current=!1}),[r]),Fr(o,r,w.current,!1)}var re=e=>typeof e=="string",Vr=(e,t,r,s,n)=>re(e)?(s&&t.watch.add(e),f(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),f(r,a))):(s&&(t.watchAll=!0),r);function Zr(e){const t=Fe(),{control:r=t.control,name:s,defaultValue:n,disabled:a,exact:o}=e||{},y=x.useRef(s);y.current=s,ke({disabled:a,subject:r._subjects.values,next:F=>{Ar(y.current,F.name,o)&&w(N(Vr(y.current,r._names,F.values||r._formValues,!1,n)))}});const[_,w]=x.useState(r._getWatch(s,n));return x.useEffect(()=>r._removeUnmounted()),_}var Qe=e=>/^\w*$/.test(e),pr=e=>fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,t,r)=>{let s=-1;const n=Qe(t)?[t]:pr(t),a=n.length,o=a-1;for(;++s<a;){const y=n[s];let _=r;if(s!==o){const w=e[y];_=U(w)||Array.isArray(w)?w:isNaN(+n[s+1])?{}:[]}e[y]=_,e=e[y]}return e};function et(e){const t=Fe(),{name:r,disabled:s,control:n=t.control,shouldUnregister:a}=e,o=_r(n._names.array,r),y=Zr({control:n,name:r,defaultValue:f(n._formValues,r,f(n._defaultValues,r,e.defaultValue)),exact:!0}),_=Yr({control:n,name:r}),w=x.useRef(n.register(r,{...e.rules,value:y,...Y(e.disabled)?{disabled:e.disabled}:{}}));return x.useEffect(()=>{const F=n._options.shouldUnregister||a,v=(E,H)=>{const L=f(n._fields,E);L&&(L._f.mount=H)};if(v(r,!0),F){const E=N(f(n._options.defaultValues,r));k(n._defaultValues,r,E),C(f(n._formValues,r))&&k(n._formValues,r,E)}return()=>{(o?F&&!n._state.action:F)?n.unregister(r):v(r,!1)}},[r,n,o,a]),x.useEffect(()=>{f(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:f(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:y,...Y(s)||_.disabled?{disabled:_.disabled||s}:{},onChange:x.useCallback(F=>w.current.onChange({target:{value:hr(F),name:r},type:pe.CHANGE}),[r]),onBlur:x.useCallback(()=>w.current.onBlur({target:{value:f(n._formValues,r),name:r},type:pe.BLUR}),[r,n]),ref:F=>{const v=f(n._fields,r);v&&F&&(v._f.ref={focus:()=>F.focus(),select:()=>F.select(),setCustomValidity:E=>F.setCustomValidity(E),reportValidity:()=>F.reportValidity()})}},formState:_,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(_.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(_.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(_.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!f(_.validatingFields,r)},error:{enumerable:!0,get:()=>f(_.errors,r)}})}}const rt=e=>e.render(et(e));var wr=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},ie=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Ue=(e,t,r={})=>r.shouldFocus||C(r.shouldFocus)?r.focusName||`${e}.${C(r.focusIndex)?t:r.focusIndex}.`:"",he=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched}),Ge=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ce=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=f(e,n);if(a){const{_f:o,...y}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!s)break;if(o.ref&&t(o.ref,o.name)&&!s)break;ce(y,t)}else U(y)&&ce(y,t)}}};var Dr=(e,t,r)=>{const s=fe(f(e,r));return k(s,"root",t[r]),k(e,r,s),e},Xe=e=>e.type==="file",ae=e=>typeof e=="function",we=e=>{if(!Je)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ve=e=>re(e),Ye=e=>e.type==="radio",De=e=>e instanceof RegExp;const or={value:!1,isValid:!1},cr={value:!0,isValid:!0};var Sr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?cr:{value:e[0].value,isValid:!0}:cr:or}return or};const fr={isValid:!1,value:null};var Er=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,fr):fr;function dr(e,t,r="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||Y(e)&&!e)return{type:r,message:Ve(e)?e:"",ref:t}}var le=e=>U(e)&&!De(e)?e:{value:e,message:""},ze=async(e,t,r,s,n)=>{const{ref:a,refs:o,required:y,maxLength:_,minLength:w,min:F,max:v,pattern:E,validate:H,name:L,valueAsNumber:de,mount:Z,disabled:ee}=e._f,p=f(t,L);if(!Z||ee)return{};const J=o?o[0]:a,Q=V=>{s&&J.reportValidity&&(J.setCustomValidity(Y(V)?"":V||""),J.reportValidity())},m={},b=Ye(a),A=be(a),R=b||A,K=(de||Xe(a))&&C(a.value)&&C(p)||we(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,j=wr.bind(null,L,r,m),xe=(V,D,M,T=te.maxLength,X=te.minLength)=>{const G=V?D:M;m[L]={type:V?T:X,message:G,ref:a,...j(V?T:X,G)}};if(n?!Array.isArray(p)||!p.length:y&&(!R&&(K||P(p))||Y(p)&&!p||A&&!Sr(o).isValid||b&&!Er(o).isValid)){const{value:V,message:D}=Ve(y)?{value:!!y,message:y}:le(y);if(V&&(m[L]={type:te.required,message:D,ref:J,...j(te.required,D)},!r))return Q(D),m}if(!K&&(!P(F)||!P(v))){let V,D;const M=le(v),T=le(F);if(!P(p)&&!isNaN(p)){const X=a.valueAsNumber||p&&+p;P(M.value)||(V=X>M.value),P(T.value)||(D=X<T.value)}else{const X=a.valueAsDate||new Date(p),G=me=>new Date(new Date().toDateString()+" "+me),ye=a.type=="time",ge=a.type=="week";re(M.value)&&p&&(V=ye?G(p)>G(M.value):ge?p>M.value:X>new Date(M.value)),re(T.value)&&p&&(D=ye?G(p)<G(T.value):ge?p<T.value:X<new Date(T.value))}if((V||D)&&(xe(!!V,M.message,T.message,te.max,te.min),!r))return Q(m[L].message),m}if((_||w)&&!K&&(re(p)||n&&Array.isArray(p))){const V=le(_),D=le(w),M=!P(V.value)&&p.length>+V.value,T=!P(D.value)&&p.length<+D.value;if((M||T)&&(xe(M,V.message,D.message),!r))return Q(m[L].message),m}if(E&&!K&&re(p)){const{value:V,message:D}=le(E);if(De(V)&&!p.match(V)&&(m[L]={type:te.pattern,message:D,ref:a,...j(te.pattern,D)},!r))return Q(D),m}if(H){if(ae(H)){const V=await H(p,t),D=dr(V,J);if(D&&(m[L]={...D,...j(te.validate,D.message)},!r))return Q(D.message),m}else if(U(H)){let V={};for(const D in H){if(!B(V)&&!r)break;const M=dr(await H[D](p,t),J,D);M&&(V={...M,...j(D,M.message)},Q(M.message),r&&(m[L]=V))}if(!B(V)&&(m[L]={ref:J,...V},!r))return m}}return Q(!0),m},Le=(e,t)=>[...e,...W(t)],Oe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Te(e,t,r){return[...e.slice(0,t),...W(r),...e.slice(t)]}var je=(e,t,r)=>Array.isArray(e)?(C(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Pe=(e,t)=>[...W(t),...W(e)];function tt(e,t){let r=0;const s=[...e];for(const n of t)s.splice(n-r,1),r++;return fe(s).length?s:[]}var Be=(e,t)=>C(t)?[]:tt(e,W(t).sort((r,s)=>r-s)),$e=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function st(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[t[s++]];return e}function it(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function I(e,t){const r=Array.isArray(t)?t:Qe(t)?[t]:pr(t),s=r.length===1?e:st(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(U(s)&&B(s)||Array.isArray(s)&&it(s))&&I(e,r.slice(0,-1)),e}var yr=(e,t,r)=>(e[t]=r,e);function Rt(e){const t=Fe(),{control:r=t.control,name:s,keyName:n="id",shouldUnregister:a}=e,[o,y]=x.useState(r._getFieldArray(s)),_=x.useRef(r._getFieldArray(s).map(ie)),w=x.useRef(o),F=x.useRef(s),v=x.useRef(!1);F.current=s,w.current=o,r._names.array.add(s),e.rules&&r.register(s,e.rules),ke({next:({values:m,name:b})=>{if(b===F.current||!b){const A=f(m,F.current);Array.isArray(A)&&(y(A),_.current=A.map(ie))}},subject:r._subjects.array});const E=x.useCallback(m=>{v.current=!0,r._updateFieldArray(s,m)},[r,s]),H=(m,b)=>{const A=W(N(m)),R=Le(r._getFieldArray(s),A);r._names.focus=Ue(s,R.length-1,b),_.current=Le(_.current,A.map(ie)),E(R),y(R),r._updateFieldArray(s,R,Le,{argA:Oe(m)})},L=(m,b)=>{const A=W(N(m)),R=Pe(r._getFieldArray(s),A);r._names.focus=Ue(s,0,b),_.current=Pe(_.current,A.map(ie)),E(R),y(R),r._updateFieldArray(s,R,Pe,{argA:Oe(m)})},de=m=>{const b=Be(r._getFieldArray(s),m);_.current=Be(_.current,m),E(b),y(b),r._updateFieldArray(s,b,Be,{argA:m})},Z=(m,b,A)=>{const R=W(N(b)),K=Te(r._getFieldArray(s),m,R);r._names.focus=Ue(s,m,A),_.current=Te(_.current,m,R.map(ie)),E(K),y(K),r._updateFieldArray(s,K,Te,{argA:m,argB:Oe(b)})},ee=(m,b)=>{const A=r._getFieldArray(s);$e(A,m,b),$e(_.current,m,b),E(A),y(A),r._updateFieldArray(s,A,$e,{argA:m,argB:b},!1)},p=(m,b)=>{const A=r._getFieldArray(s);je(A,m,b),je(_.current,m,b),E(A),y(A),r._updateFieldArray(s,A,je,{argA:m,argB:b},!1)},J=(m,b)=>{const A=N(b),R=yr(r._getFieldArray(s),m,A);_.current=[...R].map((K,j)=>!K||j===m?ie():_.current[j]),E(R),y([...R]),r._updateFieldArray(s,R,yr,{argA:m,argB:A},!0,!1)},Q=m=>{const b=W(N(m));_.current=b.map(ie),E([...b]),y([...b]),r._updateFieldArray(s,[...b],A=>A,{},!0,!1)};return x.useEffect(()=>{if(r._state.action=!1,Ge(s,r._names)&&r._subjects.state.next({...r._formState}),v.current&&(!he(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([s]).then(m=>{const b=f(m.errors,s),A=f(r._formState.errors,s);(A?!b&&A.type||b&&(A.type!==b.type||A.message!==b.message):b&&b.type)&&(b?k(r._formState.errors,s,b):I(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const m=f(r._fields,s);m&&m._f&&!(he(r._options.reValidateMode).isOnSubmit&&he(r._options.mode).isOnSubmit)&&ze(m,r._formValues,r._options.criteriaMode===z.all,r._options.shouldUseNativeValidation,!0).then(b=>!B(b)&&r._subjects.state.next({errors:Dr(r._formState.errors,b,s)}))}r._subjects.values.next({name:s,values:{...r._formValues}}),r._names.focus&&ce(r._fields,(m,b)=>{if(r._names.focus&&b.startsWith(r._names.focus)&&m.focus)return m.focus(),1}),r._names.focus="",r._updateValid(),v.current=!1},[o,s,r]),x.useEffect(()=>(!f(r._formValues,s)&&r._updateFieldArray(s),()=>{(r._options.shouldUnregister||a)&&r.unregister(s)}),[s,r,n,a]),{swap:x.useCallback(ee,[E,s,r]),move:x.useCallback(p,[E,s,r]),prepend:x.useCallback(L,[E,s,r]),append:x.useCallback(H,[E,s,r]),remove:x.useCallback(de,[E,s,r]),insert:x.useCallback(Z,[E,s,r]),update:x.useCallback(J,[E,s,r]),replace:x.useCallback(Q,[E,s,r]),fields:x.useMemo(()=>o.map((m,b)=>({...m,[n]:_.current[b]||ie()})),[o,n])}}var We=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},Se=e=>P(e)||!vr(e);function ne(e,t){if(Se(e)||Se(t))return e===t;if(oe(e)&&oe(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const a=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=t[n];if(oe(a)&&oe(o)||U(a)&&U(o)||Array.isArray(a)&&Array.isArray(o)?!ne(a,o):a!==o)return!1}}return!0}var kr=e=>e.type==="select-multiple",at=e=>Ye(e)||be(e),qe=e=>we(e)&&e.isConnected,Cr=e=>{for(const t in e)if(ae(e[t]))return!0;return!1};function Ee(e,t={}){const r=Array.isArray(e);if(U(e)||r)for(const s in e)Array.isArray(e[s])||U(e[s])&&!Cr(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Ee(e[s],t[s])):P(e[s])||(t[s]=!0);return t}function Rr(e,t,r){const s=Array.isArray(e);if(U(e)||s)for(const n in e)Array.isArray(e[n])||U(e[n])&&!Cr(e[n])?C(t)||Se(r[n])?r[n]=Array.isArray(e[n])?Ee(e[n],[]):{...Ee(e[n])}:Rr(e[n],P(t)?{}:t[n],r[n]):r[n]=!ne(e[n],t[n]);return r}var Ae=(e,t)=>Rr(e,t,Ee(t)),Ir=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>C(e)?e:t?e===""?NaN:e&&+e:r&&re(e)?new Date(e):s?s(e):e;function He(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Xe(t)?t.files:Ye(t)?Er(e.refs).value:kr(t)?[...t.selectedOptions].map(({value:r})=>r):be(t)?Sr(e.refs).value:Ir(C(t.value)?e.ref.value:t.value,e)}var nt=(e,t,r,s)=>{const n={};for(const a of e){const o=f(t,a);o&&k(n,a,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},ve=e=>C(e)?e:De(e)?e.source:U(e)?De(e.value)?e.value.source:e.value:e,ut=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gr(e,t,r){const s=f(e,r);if(s||Qe(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=f(t,a),y=f(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(y&&y.type)return{name:a,error:y};n.pop()}return{name:r}}var lt=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,ot=(e,t)=>!fe(f(e,t)).length&&I(e,t);const ct={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function ft(e={}){let t={...ct,...e},r={submitCount:0,isDirty:!1,isLoading:ae(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=U(t.defaultValues)||U(t.values)?N(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:N(n),o={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,w=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:We(),array:We(),state:We()},E=he(t.mode),H=he(t.reValidateMode),L=t.criteriaMode===z.all,de=i=>u=>{clearTimeout(w),w=setTimeout(i,u)},Z=async i=>{if(F.isValid||i){const u=t.resolver?B((await R()).errors):await j(s,!0);u!==r.isValid&&v.state.next({isValid:u})}},ee=(i,u)=>{(F.isValidating||F.validatingFields)&&((i||Array.from(y.mount)).forEach(l=>{l&&(u?k(r.validatingFields,l,u):I(r.validatingFields,l))}),v.state.next({validatingFields:r.validatingFields,isValidating:!B(r.validatingFields)}))},p=(i,u=[],l,g,d=!0,c=!0)=>{if(g&&l){if(o.action=!0,c&&Array.isArray(f(s,i))){const h=l(f(s,i),g.argA,g.argB);d&&k(s,i,h)}if(c&&Array.isArray(f(r.errors,i))){const h=l(f(r.errors,i),g.argA,g.argB);d&&k(r.errors,i,h),ot(r.errors,i)}if(F.touchedFields&&c&&Array.isArray(f(r.touchedFields,i))){const h=l(f(r.touchedFields,i),g.argA,g.argB);d&&k(r.touchedFields,i,h)}F.dirtyFields&&(r.dirtyFields=Ae(n,a)),v.state.next({name:i,isDirty:V(i,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else k(a,i,u)},J=(i,u)=>{k(r.errors,i,u),v.state.next({errors:r.errors})},Q=i=>{r.errors=i,v.state.next({errors:r.errors,isValid:!1})},m=(i,u,l,g)=>{const d=f(s,i);if(d){const c=f(a,i,C(l)?f(n,i):l);C(c)||g&&g.defaultChecked||u?k(a,i,u?c:He(d._f)):T(i,c),o.mount&&Z()}},b=(i,u,l,g,d)=>{let c=!1,h=!1;const S={name:i},O=!!(f(s,i)&&f(s,i)._f.disabled);if(!l||g){F.isDirty&&(h=r.isDirty,r.isDirty=S.isDirty=V(),c=h!==S.isDirty);const $=O||ne(f(n,i),u);h=!!(!O&&f(r.dirtyFields,i)),$||O?I(r.dirtyFields,i):k(r.dirtyFields,i,!0),S.dirtyFields=r.dirtyFields,c=c||F.dirtyFields&&h!==!$}if(l){const $=f(r.touchedFields,i);$||(k(r.touchedFields,i,l),S.touchedFields=r.touchedFields,c=c||F.touchedFields&&$!==l)}return c&&d&&v.state.next(S),c?S:{}},A=(i,u,l,g)=>{const d=f(r.errors,i),c=F.isValid&&Y(u)&&r.isValid!==u;if(e.delayError&&l?(_=de(()=>J(i,l)),_(e.delayError)):(clearTimeout(w),_=null,l?k(r.errors,i,l):I(r.errors,i)),(l?!ne(d,l):d)||!B(g)||c){const h={...g,...c&&Y(u)?{isValid:u}:{},errors:r.errors,name:i};r={...r,...h},v.state.next(h)}},R=async i=>{ee(i,!0);const u=await t.resolver(a,t.context,nt(i||y.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return ee(i),u},K=async i=>{const{errors:u}=await R(i);if(i)for(const l of i){const g=f(u,l);g?k(r.errors,l,g):I(r.errors,l)}else r.errors=u;return u},j=async(i,u,l={valid:!0})=>{for(const g in i){const d=i[g];if(d){const{_f:c,...h}=d;if(c){const S=y.array.has(c.name);ee([g],!0);const O=await ze(d,a,L,t.shouldUseNativeValidation&&!u,S);if(ee([g]),O[c.name]&&(l.valid=!1,u))break;!u&&(f(O,c.name)?S?Dr(r.errors,O,c.name):k(r.errors,c.name,O[c.name]):I(r.errors,c.name))}h&&await j(h,u,l)}}return l.valid},xe=()=>{for(const i of y.unMount){const u=f(s,i);u&&(u._f.refs?u._f.refs.every(l=>!qe(l)):!qe(u._f.ref))&&Re(i)}y.unMount=new Set},V=(i,u)=>(i&&u&&k(a,i,u),!ne(Ze(),n)),D=(i,u,l)=>Vr(i,y,{...o.mount?a:C(u)?n:re(i)?{[i]:u}:u},l,u),M=i=>fe(f(o.mount?a:n,i,e.shouldUnregister?f(n,i,[]):[])),T=(i,u,l={})=>{const g=f(s,i);let d=u;if(g){const c=g._f;c&&(!c.disabled&&k(a,i,Ir(u,c)),d=we(c.ref)&&P(u)?"":u,kr(c.ref)?[...c.ref.options].forEach(h=>h.selected=d.includes(h.value)):c.refs?be(c.ref)?c.refs.length>1?c.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(S=>S===h.value):d===h.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(h=>h.checked=h.value===d):Xe(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||v.values.next({name:i,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&b(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&me(i)},X=(i,u,l)=>{for(const g in u){const d=u[g],c=`${i}.${g}`,h=f(s,c);(y.array.has(i)||!Se(d)||h&&!h._f)&&!oe(d)?X(c,d,l):T(c,d,l)}},G=(i,u,l={})=>{const g=f(s,i),d=y.array.has(i),c=N(u);k(a,i,c),d?(v.array.next({name:i,values:{...a}}),(F.isDirty||F.dirtyFields)&&l.shouldDirty&&v.state.next({name:i,dirtyFields:Ae(n,a),isDirty:V(i,c)})):g&&!g._f&&!P(c)?X(i,c,l):T(i,c,l),Ge(i,y)&&v.state.next({...r}),v.values.next({name:o.mount?i:void 0,values:{...a}})},ye=async i=>{o.mount=!0;const u=i.target;let l=u.name,g=!0;const d=f(s,l),c=()=>u.type?He(d._f):hr(i),h=S=>{g=Number.isNaN(S)||S===f(a,l,S)};if(d){let S,O;const $=c(),ue=i.type===pe.BLUR||i.type===pe.FOCUS_OUT,$r=!ut(d._f)&&!t.resolver&&!f(r.errors,l)&&!d._f.deps||lt(ue,f(r.touchedFields,l),r.isSubmitted,H,E),Me=Ge(l,y,ue);k(a,l,$),ue?(d._f.onBlur&&d._f.onBlur(i),_&&_(0)):d._f.onChange&&d._f.onChange(i);const Ne=b(l,$,ue,!1),Wr=!B(Ne)||Me;if(!ue&&v.values.next({name:l,type:i.type,values:{...a}}),$r)return F.isValid&&Z(),Wr&&v.state.next({name:l,...Me?{}:Ne});if(!ue&&Me&&v.state.next({...r}),t.resolver){const{errors:ur}=await R([l]);if(h($),g){const qr=gr(r.errors,s,l),lr=gr(ur,s,qr.name||l);S=lr.error,l=lr.name,O=B(ur)}}else ee([l],!0),S=(await ze(d,a,L,t.shouldUseNativeValidation))[l],ee([l]),h($),g&&(S?O=!1:F.isValid&&(O=await j(s,!0)));g&&(d._f.deps&&me(d._f.deps),A(l,O,S,Ne))}},ge=(i,u)=>{if(f(r.errors,u)&&i.focus)return i.focus(),1},me=async(i,u={})=>{let l,g;const d=W(i);if(t.resolver){const c=await K(C(i)?i:d);l=B(c),g=i?!d.some(h=>f(c,h)):l}else i?(g=(await Promise.all(d.map(async c=>{const h=f(s,c);return await j(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!g&&!r.isValid)&&Z()):g=l=await j(s);return v.state.next({...!re(i)||F.isValid&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors}),u.shouldFocus&&!g&&ce(s,ge,i?d:y.mount),g},Ze=i=>{const u={...o.mount?a:n};return C(i)?u:re(i)?f(u,i):i.map(l=>f(u,l))},er=(i,u)=>({invalid:!!f((u||r).errors,i),isDirty:!!f((u||r).dirtyFields,i),isTouched:!!f((u||r).touchedFields,i),isValidating:!!f((u||r).validatingFields,i),error:f((u||r).errors,i)}),Tr=i=>{i&&W(i).forEach(u=>I(r.errors,u)),v.state.next({errors:i?r.errors:{}})},rr=(i,u,l)=>{const g=(f(s,i,{_f:{}})._f||{}).ref;k(r.errors,i,{...u,ref:g}),v.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},jr=(i,u)=>ae(i)?v.values.subscribe({next:l=>i(D(void 0,u),l)}):D(i,u,!0),Re=(i,u={})=>{for(const l of i?W(i):y.mount)y.mount.delete(l),y.array.delete(l),u.keepValue||(I(s,l),I(a,l)),!u.keepError&&I(r.errors,l),!u.keepDirty&&I(r.dirtyFields,l),!u.keepTouched&&I(r.touchedFields,l),!u.keepIsValidating&&I(r.validatingFields,l),!t.shouldUnregister&&!u.keepDefaultValue&&I(n,l);v.values.next({values:{...a}}),v.state.next({...r,...u.keepDirty?{isDirty:V()}:{}}),!u.keepIsValid&&Z()},tr=({disabled:i,name:u,field:l,fields:g,value:d})=>{if(Y(i)){const c=i?void 0:C(d)?He(l?l._f:f(g,u)._f):d;k(a,u,c),b(u,c,!1,!1,!0)}},Ie=(i,u={})=>{let l=f(s,i);const g=Y(u.disabled);return k(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...u}}),y.mount.add(i),l?tr({field:l,disabled:u.disabled,name:i,value:u.value}):m(i,!0,u.value),{...g?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:ve(u.min),max:ve(u.max),minLength:ve(u.minLength),maxLength:ve(u.maxLength),pattern:ve(u.pattern)}:{},name:i,onChange:ye,onBlur:ye,ref:d=>{if(d){Ie(i,u),l=f(s,i);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=at(c),S=l._f.refs||[];if(h?S.find(O=>O===c):c===l._f.ref)return;k(s,i,{_f:{...l._f,...h?{refs:[...S.filter(qe),c,...Array.isArray(f(n,i))?[{}]:[]],ref:{type:c.type,name:i}}:{ref:c}}}),m(i,!1,void 0,c)}else l=f(s,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(_r(y.array,i)&&o.action)&&y.unMount.add(i)}}},sr=()=>t.shouldFocusError&&ce(s,ge,y.mount),Pr=i=>{Y(i)&&(v.state.next({disabled:i}),ce(s,(u,l)=>{let g=i;const d=f(s,l);d&&Y(d._f.disabled)&&(g||(g=d._f.disabled)),u.disabled=g},0,!1))},ir=(i,u)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=N(a);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:c,values:h}=await R();r.errors=c,d=h}else await j(s);if(I(r.errors,"root"),B(r.errors)){v.state.next({errors:{}});try{await i(d,l)}catch(c){g=c}}else u&&await u({...r.errors},l),sr(),setTimeout(sr);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},Br=(i,u={})=>{f(s,i)&&(C(u.defaultValue)?G(i,N(f(n,i))):(G(i,u.defaultValue),k(n,i,N(u.defaultValue))),u.keepTouched||I(r.touchedFields,i),u.keepDirty||(I(r.dirtyFields,i),r.isDirty=u.defaultValue?V(i,N(f(n,i))):V()),u.keepError||(I(r.errors,i),F.isValid&&Z()),v.state.next({...r}))},ar=(i,u={})=>{const l=i?N(i):n,g=N(l),d=B(i),c=d?n:g;if(u.keepDefaultValues||(n=l),!u.keepValues){if(u.keepDirtyValues)for(const h of y.mount)f(r.dirtyFields,h)?k(c,h,f(a,h)):G(h,f(c,h));else{if(Je&&C(i))for(const h of y.mount){const S=f(s,h);if(S&&S._f){const O=Array.isArray(S._f.refs)?S._f.refs[0]:S._f.ref;if(we(O)){const $=O.closest("form");if($){$.reset();break}}}}s={}}a=e.shouldUnregister?u.keepDefaultValues?N(n):{}:N(c),v.array.next({values:{...c}}),v.values.next({values:{...c}})}y={mount:u.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!F.isValid||!!u.keepIsValid||!!u.keepDirtyValues,o.watch=!!e.shouldUnregister,v.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:d?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!ne(i,n)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?[]:u.keepDirtyValues?u.keepDefaultValues&&a?Ae(n,a):r.dirtyFields:u.keepDefaultValues&&i?Ae(n,i):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},nr=(i,u)=>ar(ae(i)?i(a):i,u);return{control:{register:Ie,unregister:Re,getFieldState:er,handleSubmit:ir,setError:rr,_executeSchema:R,_getWatch:D,_getDirty:V,_updateValid:Z,_removeUnmounted:xe,_updateFieldArray:p,_updateDisabledField:tr,_getFieldArray:M,_reset:ar,_resetDefaultValues:()=>ae(t.defaultValues)&&t.defaultValues().then(i=>{nr(i,t.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Pr,_subjects:v,_proxyFormState:F,_setErrors:Q,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(i){o=i},get _defaultValues(){return n},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:me,register:Ie,handleSubmit:ir,watch:jr,setValue:G,getValues:Ze,reset:nr,resetField:Br,clearErrors:Tr,unregister:Re,setError:rr,setFocus:(i,u={})=>{const l=f(s,i),g=l&&l._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&(d.focus(),u.shouldSelect&&d.select())}},getFieldState:er}}function It(e={}){const t=x.useRef(),r=x.useRef(),[s,n]=x.useState({isDirty:!1,isValidating:!1,isLoading:ae(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ae(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ft(e),formState:s});const a=t.current.control;return a._options=e,ke({subject:a._subjects.state,next:o=>{xr(o,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),x.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),x.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),x.useEffect(()=>{e.values&&!ne(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,n(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),x.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),x.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),x.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=Fr(s,a),t.current}var mr=function(e,t,r){if(e&&"reportValidity"in e){var s=f(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Mr=function(e,t){var r=function(n){var a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?mr(a.ref,n,e):a.refs&&a.refs.forEach(function(o){return mr(o,n,e)})};for(var s in t.fields)r(s)},dt=function(e){return e instanceof Date},yt=function(e){return e==null},gt=function(e){return typeof e=="object"},mt=function(e){return!yt(e)&&!Array.isArray(e)&&gt(e)&&!dt(e)},vt=function(e){return/^\w*$/.test(e)},Ke=function(e,t,r){for(var s=-1,n=vt(t)?[t]:function(F){return v=F.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(v)?v.filter(Boolean):[];var v}(t),a=n.length,o=a-1;++s<a;){var y=n[s],_=r;if(s!==o){var w=e[y];_=mt(w)||Array.isArray(w)?w:isNaN(+n[s+1])?{}:[]}e[y]=_,e=e[y]}return e},ht=function(e,t){t.shouldUseNativeValidation&&Mr(e,t);var r={};for(var s in e){var n=f(t.fields,s),a=Object.assign(e[s]||{},{ref:n&&n.ref});if(_t(t.names||Object.keys(e),s)){var o=Object.assign({},f(r,s));Ke(o,"root",a),Ke(r,s,o)}else Ke(r,s,a)}return r},_t=function(e,t){return e.some(function(r){return r.startsWith(t+".")})},bt=function(e,t){for(var r={};e.length;){var s=e[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var y=s.unionErrors[0].errors[0];r[o]={message:y.message,type:y.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(F){return F.errors.forEach(function(v){return e.push(v)})}),t){var _=r[o].types,w=_&&_[s.code];r[o]=wr(o,t,r,n,w?[].concat(w,s.message):s.message)}e.shift()}return r},Mt=function(e,t,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,y){try{var _=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(w){return a.shouldUseNativeValidation&&Mr({},a),{errors:{},values:r.raw?s:w}})}catch(w){return y(w)}return _&&_.then?_.then(void 0,y):_}(0,function(o){if(function(y){return y.errors!=null}(o))return{values:{},errors:ht(bt(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const Ft=q.forwardRef((e,t)=>q.createElement(Hr.label,Kr({},e,{ref:t,onMouseDown:r=>{var s;(s=e.onMouseDown)===null||s===void 0||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),Nr=Ft,xt=Gr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ur=q.forwardRef(({className:e,...t},r)=>se.jsx(Nr,{ref:r,className:_e(xt(),e),...t}));Ur.displayName=Nr.displayName;const Nt=Xr,Lr=q.createContext({}),Ut=({...e})=>se.jsx(Lr.Provider,{value:{name:e.name},children:se.jsx(rt,{...e})}),Ce=()=>{const e=q.useContext(Lr),t=q.useContext(Or),{getFieldState:r,formState:s}=Fe(),n=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},Or=q.createContext({}),At=q.forwardRef(({className:e,...t},r)=>{const s=q.useId();return se.jsx(Or.Provider,{value:{id:s},children:se.jsx("div",{ref:r,className:_e("space-y-2",e),...t})})});At.displayName="FormItem";const Vt=q.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:n}=Ce();return se.jsx(Ur,{ref:r,className:_e(s&&"text-destructive",e),htmlFor:n,...t})});Vt.displayName="FormLabel";const pt=q.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:a}=Ce();return se.jsx(zr,{ref:t,id:s,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...e})});pt.displayName="FormControl";const wt=q.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Ce();return se.jsx("p",{ref:r,id:s,className:_e("text-[0.8rem] text-muted-foreground",e),...t})});wt.displayName="FormDescription";const Dt=q.forwardRef(({className:e,children:t,...r},s)=>{const{error:n,formMessageId:a}=Ce(),o=n?String(n==null?void 0:n.message):t;return o?se.jsx("p",{ref:s,id:a,className:_e("text-[0.8rem] font-medium text-destructive",e),...r,children:o}):null});Dt.displayName="FormMessage";export{Nt as F,Ur as L,Ut as a,At as b,Vt as c,pt as d,Dt as e,wt as f,Rt as g,Mt as t,It as u};
